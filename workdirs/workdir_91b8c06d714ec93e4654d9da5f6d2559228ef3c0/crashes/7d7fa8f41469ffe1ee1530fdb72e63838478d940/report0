INFO: trying to register non-static key.
the code is fine but needs lockdep annotation.
turning off the locking correctness validator.
CPU: 1 PID: 18 Comm: kworker/1:0 Not tainted 5.10.0-rc2-next-20201104-syzkaller #0
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS 1.16.2-debian-1.16.2-1 04/01/2014
Workqueue: events l2cap_chan_timeout
Call Trace:
 __dump_stack root/ramdisk/work_dir/linux/lib/dump_stack.c:77 [inline]
 dump_stack+0x107/0x163 root/ramdisk/work_dir/linux/lib/dump_stack.c:118
 assign_lock_key root/ramdisk/work_dir/linux/kernel/locking/lockdep.c:933 [inline]
 register_lock_class+0x1140/0x1640 root/ramdisk/work_dir/linux/kernel/locking/lockdep.c:1245
 __lock_acquire+0x103/0x5eb0 root/ramdisk/work_dir/linux/kernel/locking/lockdep.c:4710
 lock_acquire root/ramdisk/work_dir/linux/kernel/locking/lockdep.c:5436 [inline]
 lock_acquire+0x295/0x8a0 root/ramdisk/work_dir/linux/kernel/locking/lockdep.c:5401
 __raw_spin_lock_irqsave root/ramdisk/work_dir/linux/./include/linux/spinlock_api_smp.h:110 [inline]
 _raw_spin_lock_irqsave+0x36/0x50 root/ramdisk/work_dir/linux/kernel/locking/spinlock.c:159
 skb_dequeue+0x1c/0x180 root/ramdisk/work_dir/linux/net/core/skbuff.c:3039
 skb_queue_purge+0x21/0x30 root/ramdisk/work_dir/linux/net/core/skbuff.c:3077
 l2cap_chan_del+0x625/0xa80 root/ramdisk/work_dir/linux/net/bluetooth/l2cap_core.c:657
 l2cap_chan_close+0x1ba/0xae0 root/ramdisk/work_dir/linux/net/bluetooth/l2cap_core.c:823
 l2cap_chan_timeout+0x17e/0x2f0 root/ramdisk/work_dir/linux/net/bluetooth/l2cap_core.c:436
 process_one_work+0x9a9/0x15d0 root/ramdisk/work_dir/linux/kernel/workqueue.c:2272
 worker_thread+0x676/0x1170 root/ramdisk/work_dir/linux/kernel/workqueue.c:2418
 kthread+0x3a0/0x490 root/ramdisk/work_dir/linux/kernel/kthread.c:292
 ret_from_fork+0x1f/0x30 root/ramdisk/work_dir/linux/arch/x86/entry/entry_64.S:296
